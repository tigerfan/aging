# 产品19：园艺疗法智能微温室台（详细设计实现文档）

## 0. 文档信息
- 版本：v1.0
- 目标：把园艺疗法转化为可持续执行的日常行为干预
- 适用对象：轻抑郁、康复期、行动不便老人

## 1. 建设目标
1. 通过“可见成长反馈”提升意义感与作息稳定性。
2. 降低种植失败率，减少挫败体验。
3. 将园艺任务与康复动作目标结合。

## 2. 范围边界
- **In Scope**：自动补水补光、任务提醒、成长反馈。
- **Out of Scope**：专业农业生产、医疗心理诊断。

## 3. 功能需求
### Must
- FR-01：植物状态监测与自动补水补光。
- FR-02：日常小任务发布与完成记录。
- FR-03：成长可视化反馈。

### Should
- FR-04：康复目标绑定（站立/手部动作）。
- FR-05：耗材补货提醒。

### Could
- FR-06：社区成长赛与分享。

## 4. 非功能指标
- 植物存活率 > 90%。
- 任务完成率 > 70%。
- 噪声 < 35dB。

## 5. 总体架构
```text
温室台硬件(土壤/光照/水泵)
   -> 任务与成长引擎
      -> 家庭App + 社区活动平台
```

## 6. 硬件设计
- 土壤湿度传感器。
- 光照模块（可调光谱）。
- 微型水泵与水箱液位检测。
- 可选摄像模组（默认关闭云上传）。

## 7. 软件模块
1. `PlantStateEstimator`：植物生长阶段识别。
2. `AutoCareController`：补水补光控制。
3. `TaskGenerator`：小任务生成与分发。
4. `GrowthVisualizer`：成长时序展示。
5. `CommunityChallenge`：社区活动管理。

## 8. 数据模型
- `PlantState { stage, health_score, moisture_level }`
- `CareAction { type, amount, ts }`
- `TaskPlan { task_id, difficulty, due_time }`
- `GrowthTimeline { snapshots[], milestones[] }`

## 9. 算法策略
- 阶段识别：基于生长速度和叶面积变化估计。
- 干预规则：优先轻干预，避免过度浇灌。
- 任务策略：与用户体力和认知负荷匹配。

## 10. 接口定义
- `GET /api/v1/plant/state`
- `POST /api/v1/plant/care/override`
- `GET /api/v1/task/today`
- `POST /api/v1/community/challenge/join`

## 11. 交互流程
1. 系统监测植物状态。
2. 自动执行基础养护并下发“小任务”。
3. 用户完成任务后获得成长反馈和成就。
4. 周期性复盘情绪与参与度变化。

## 12. 安全与合规
- 水电隔离与防漏保护。
- 默认本地存储图像，不上传。
- 明确产品为生活与行为辅助工具。

## 13. 测试与验收
- 环境稳定性测试（光照不足、温度波动）。
- 任务机制对依从性提升测试。
- 验收：植物存活率>90%，任务完成率>70%。

## 14. 实施计划
- P1：社区活动室试点。
- P2：家庭标准套件。
- P3：耗材订阅与社区赛事运营。

## 15. 风险与缓解
- 风险：季节变化导致体验波动。  
  缓解：季节适配处方与品种推荐。
- 风险：用户后期参与下降。  
  缓解：阶段性挑战与社群激励。
