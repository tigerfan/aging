# P05 语音织网——多代际数字口述历史仪

---

## A. 需求分析文档

### 1. 产品概述与定位

**语音织网**是一款专为老年人记录人生故事而设计的智能口述历史设备，形态类似复古收音机，通过LLM对话引导技术、语音克隆和知识图谱，将老年人的口述记忆自动整理成结构化家族史，并生成可传承的数字家谱、回忆录和家族知识图谱，实现跨代际的文化记忆传承。

**核心蓝海**：家族史记录与传承是被严重忽视的银发需求，现有服务均为人工采访（高成本、低效率），AI+语音技术实现规模化、低门槛替代。

### 2. 目标用户画像

| 维度 | 描述 |
|------|------|
| 主讲人 | 65–85岁，有故事想讲、担心被遗忘的老年人 |
| 受益人 | 子孙后代，希望了解家族历史、传承家族精神 |
| 使用场景 | 晚饭后、闲暇时，1–2小时/次，居家轻松环境 |
| 使用门槛 | 极低，仅需开口说话，设备自动引导 |
| 情感动机 | 留下生命印记、弥补与子孙沟通少的遗憾 |

### 3. 市场痛点与机会

- 每天有大量携带独特时代记忆的老人离世，家族历史随之消失
- 人工口述历史采访成本高（每小时数百元），普通家庭负担不起
- 现有AI录音/转写工具无法引导老人讲述，停留在工具层面
- 老人习惯口述而非文字，语音自然交互天然适配
- 数字家谱市场（MyHeritage、Ancestry）主要面向西方，中文本土化产品匮乏
- 语音克隆技术可为子孙重现祖先音色，情感价值极高

### 4. 功能性需求（FR）

**FR-01 智能对话引导**
- LLM驱动的对话引导系统，根据老人已讲述的内容，动态生成下一个问题
- 预设故事维度：童年记忆、求学经历、工作历程、恋爱婚姻、子女成长、人生感悟等
- 问题设计原则：具体、情感化、易回忆（如"您第一次见到配偶是什么情景？"）
- 支持随时打断、转换话题、重复问题

**FR-02 语音采集与转写**
- 高保真录音：16kHz采样率，指向性麦克风阵列（抑制背景噪声）
- 实时语音转文字（ASR），支持普通话+方言（粤语、闽南语、四川话等20种）
- 自动识别并过滤无关内容（如接电话、电视声），智能分段

**FR-03 内容结构化与整理**
- LLM自动将口述内容分类至对应人生章节
- 实体提取：自动识别人名、地名、年代、事件，建立人物关系图
- 时间线重建：根据提及时间标志，自动生成人生时间轴
- 矛盾信息检测：同一事件多次讲述细节不一致时，保留所有版本并标注

**FR-04 家族知识图谱**
- 可视化家族关系图（三代以上）
- 每个成员节点附带：生平故事摘要、代表性金句、相关照片
- 支持子女补充其他成员信息，协同构建完整家族图谱
- 导出格式：GEDCOM（标准家谱格式）+ 自定义可视化HTML

**FR-05 数字遗产生成**
- 自动生成排版精美的回忆录PDF（可打印装订成书）
- 语音克隆：用老人录音训练专属音色模型，生成可合成任意文字的音色档案
- 音色时间胶囊：子女未来可用祖父母的声音朗读家书、播报孙辈入学信息
- 家族语音图书馆：所有录音整理成有声家族史

**FR-06 多代际互动**
- 子女/孙辈可通过APP提交问题，设备下次录音时引导老人回答
- 孙辈可录制"给爷爷/奶奶的问题"音频，跨代际对话
- 定期向家庭群推送"本周家族故事片段"（30秒精华版）

### 5. 非功能性需求（NFR）

| 维度 | 指标 |
|------|------|
| 易用性 | 老人操作：一个按键（开始/暂停），无其他操作 |
| 语音识别准确率 | 普通话≥95%，方言≥85%（标准方言） |
| 对话自然度 | 提问间隔3–5秒，语速适合老年人 |
| 续航 | 内置电池≥8小时录音，USB-C充电 |
| 音频质量 | SNR>40dB，录音可长期存档（无损格式WAV） |
| 数据安全 | 家族隐私数据端对端加密，不用于任何模型训练（除非用户授权） |

### 6. 约束条件与合规要求

- 语音克隆功能须有防滥用机制：仅限家族内部使用，输出内容带水印
- 符合《生成式人工智能服务管理暂行办法》，生成内容须标注"AI生成"
- 老年人数据保护：家族数据可随时完整导出或彻底删除
- 方言ASR模型：需与方言覆盖地区老年人合作采集，确保代表性

---

## B. 详细设计方案

### 1. 系统架构

```
[语音织网设备（复古收音机形态）]
     ├── 4麦克风阵列（指向性拾音）
     ├── 高保真扬声器（回放引导问题）
     ├── 单键操作（大按钮）+ 状态指示灯
     └── 本地ASR模块（离线转写）
          │ WiFi 6
          ▼
[云端AI服务]
     ├── LLM对话引导引擎（GPT-4级，专业提示工程）
     ├── 内容结构化服务（实体提取、时间线重建）
     ├── 知识图谱数据库（Neo4j）
     ├── 语音克隆服务（VALL-E X / CosyVoice）
     └── 回忆录排版生成（LaTeX/Markdown→PDF）
          ▼
[家族APP（多用户）]
     ├── 故事浏览（按章节/时间线/人物）
     ├── 家族知识图谱可视化
     ├── 问题提交（子女→设备）
     └── 数字遗产管理
```

### 2. 硬件设计方案

**2.1 音频系统**
- 麦克风：4颗MEMS麦克风（环形阵列），波束成形指向老人说话方向，背景噪声抑制≥20dB
- 扬声器：3英寸全频单元，功率5W，频率响应150Hz–15kHz，适合语音还原
- 采样率：16kHz/24bit录音（ASR使用），48kHz/24bit留存原始音频

**2.2 计算模块**
- 主控：瑞芯微RK3568（四核A55）
- 离线ASR芯片：科大讯飞XF1 DSP（离线语音识别，保证网络中断时仍可录音）
- 存储：256GB eMMC（本地存储约200小时无损录音）

**2.3 结构设计**
- 外观：1950年代风格复古木质收音机，黄铜旋钮（无实际功能，装饰性），布面喇叭网
- 尺寸：30×18×15cm，重约1.2kg（质感扎实，放桌面稳定）
- 操作：正面一个大红色录音按钮（φ40mm），侧面音量旋钮
- 状态指示：复古VU表指针（改为LED模拟显示）：静止/录音中/上传中/故障

### 3. 软件设计方案

**3.1 对话引导引擎（Prompt Engineering + LLM）**

系统提示词框架：
```
你是一位温暖的口述历史采访师，正在与一位[年龄]岁的老人交谈。
老人已讲述：[已讲述内容摘要]
已覆盖维度：[已完成维度列表]
当前对话阶段：[童年/青年/中年/晚年/感悟]

请生成下一个问题，要求：
1. 基于老人刚才讲述内容自然过渡
2. 具体化（不说"讲讲您的童年"，而说"您小时候住的房子是什么样的？"）
3. 情感化，触发鲜活记忆
4. 语言亲切，使用"您"而非"你"
5. 问题长度≤30字
```

**3.2 内容结构化流水线**
```
口述音频
    ↓ ASR转写
口述文本
    ↓ LLM处理
    ├── 实体识别（人名/地名/年代/事件）
    ├── 情感标注（积极/中性/悲伤）
    ├── 章节分类（哪个人生阶段）
    ├── 金句提取（最有感染力的句子）
    └── 矛盾检测（与已有内容比对）
    ↓
结构化数据存入知识图谱
    ↓
增量更新回忆录草稿
```

**3.3 家族知识图谱（Neo4j）**

节点类型：Person / Event / Place / TimePoint
关系类型：MARRIED_TO / PARENT_OF / PARTICIPATED_IN / LIVED_AT / BORN_AT

**3.4 语音克隆服务**
- 基础模型：CosyVoice（阿里通义语音克隆，支持中文方言）
- 训练数据：从老人录音中自动筛选高质量语段（SNR>30dB，无停顿）
- 最低训练时长：30分钟清晰录音
- 输出：老人专属TTS音色档案，可合成任意中文文本

### 4. 核心算法设计

**4.1 方言识别适配**
- 基础ASR：Whisper Large-v3（多语种基础模型）
- 方言微调：使用CommonVoice + 自建方言语料库，对20种主要方言进行LoRA微调
- 置信度低于60%的段落：保留原音频，标注"待人工确认"

**4.2 记忆时间线重建算法**
```python
# 从口述文本中提取时间标志，重建绝对时间轴
def rebuild_timeline(utterances, birth_year):
    events = []
    for u in utterances:
        # 提取相对时间表达："我十八岁那年"、"文革期间"、"改革开放后"
        temporal_refs = extract_temporal_refs(u)
        for ref in temporal_refs:
            absolute_year = resolve_to_year(ref, birth_year)
            events.append(Event(year=absolute_year, content=u, confidence=ref.confidence))
    return sorted(events, key=lambda e: e.year)
```

**4.3 金句自动提取**
- 使用TF-IDF + 情感强度评分的综合指标
- 优先选择：情感强烈（正负均可）、具体生动、首次出现的表达
- 人工标注：提取结果发送给家属确认，家属可选择/替换

### 5. 用户交互设计

**5.1 老人端操作（极简）**
```
按下红色按钮 → 设备播放"您好，我们继续您的故事，上次讲到了[内容摘要]..."
老人开口讲述 → 设备安静录音，偶尔用温和语气提问
暂停/停止 → 再次按下红色按钮 → "好的，今天先聊到这里，期待下次再听您讲~"
```

**5.2 家属APP体验**
- 故事地图：以时间轴+人物关系展示，点击任意节点播放对应音频片段
- 每周"家族故事精选"：AI自动剪辑30秒精华，推送到家族群
- 问题邮箱：家属录制问题音频，下次设备启动时融入对话

**5.3 回忆录生成（样例）**

生成的回忆录包含以下结构：
- 封面：老人照片 + 姓名 + 生卒年 + 家族LOGO
- 目录：按人生阶段分章
- 正文：口述文字（适度美化，保留口语特色）+ 配套历史背景注释
- 附录：家族树、大事年表、金句集锦
- 尾页：语音书二维码（扫描可听老人亲口朗读版）

### 6. 商业化路径与技术风险

**商业化路径**
- **硬件定价**：1,980元（含首年云服务）
- **续费订阅**：299元/年（无限存储+语音克隆+每年生成一本回忆录）
- **增值服务**：实体书印刷（精装版498元/本，含快递）
- **渠道**：电商、书店（回忆录文化场景）、殡葬服务机构（数字遗产）
- **B端**：社区老年大学配套设备、医院临终关怀科室采购

**技术风险评估**

| 风险 | 等级 | 应对措施 |
|------|------|----------|
| LLM引导问题质量不稳定 | 高 | 精心设计提示工程，人工标注高质量问题库作为Few-shot |
| 方言识别准确率低（小众方言） | 高 | 优先支持10种覆盖率高方言，其余降级到普通话ASR |
| 老人不愿开口/内容匮乏 | 中 | 提供"引子"：播放老歌、展示老照片触发记忆 |
| 语音克隆被滥用（诈骗） | 中 | 生成内容加听觉水印，仅限注册设备使用，异常检测 |
| LLM幻觉导致内容错误 | 中 | LLM仅做整理，不创作，所有内容来源标注到原始音频时间戳 |
