# P09 平衡星球——前庭功能训练平衡台

---

## A. 需求分析文档

### 1. 产品概述与定位

**平衡星球**是一款专为老年人前庭功能退化设计的智能平衡训练系统，由可感知姿态的动态平衡台（类似Wii平衡板的进阶版）、实时生物反馈大屏显示和云端游戏化训练课程组成。通过每日15–20分钟趣味站立训练，系统性改善老年人的前庭感知、本体觉整合和动态平衡能力，从根源降低跌倒风险。

**核心差异**：与简单计步/跌倒检测不同，**平衡星球**专注于平衡能力的主动改善训练，填补"治未跌"的功能空白。

### 2. 目标用户画像

| 维度 | 描述 |
|------|------|
| 核心用户 | 60–75岁，有头晕、站立不稳经历的老年人 |
| 次要用户 | 耳石症（良性阵发性位置性眩晕）复位后康复患者 |
| 使用场景 | 客厅/卧室，扶墙/扶椅旁使用，每日1次，15–20分钟 |
| 医疗背景 | 耳鼻喉科、神经科、骨科医生推荐 |
| 技术接受度 | 中等，电视/大屏互动比手机更易接受 |

### 3. 市场痛点与机会

- 前庭功能退化是老年人头晕和平衡障碍的主要原因，但专用训练设备极少
- 现有平衡训练（太极拳、瑜伽）需要集体课程，居家难以坚持
- Wii Fit等游戏平衡板已被证明能改善老年平衡功能，但产品已停产，无专业老年版
- 前庭康复是公认有效的非药物疗法，但专业化程度低、居家可及性差
- 大屏电视互动（TV应用）在老年群体中接受度高于手机

### 4. 功能性需求（FR）

**FR-01 压力感知平台**
- 平衡台内置16×16压力传感器矩阵（256点），采样率100Hz
- 精确测量：压力中心（COP）位置和运动轨迹、重心摆动范围、双足压力分布比
- 防滑表面：硅橡胶凸点，摩擦系数>0.7
- 最大承重：150kg

**FR-02 姿态追踪**
- 平衡台内置6轴IMU：检测平台本身倾斜角（动态模式用）
- 可选：用户手腕佩戴IMU腕带，追踪上身姿态
- 整合数据输出：全身重心估计、动态稳定性裕度

**FR-03 游戏化训练课程**
- 内置30种训练游戏（从简单到复杂分5个难度级别）
- 典型游戏：
  - 钓鱼：通过重心移动让浮漂稳定在目标位置
  - 冲浪：随波浪提示移动重心，保持在安全区
  - 花园浇水：重心移到指定方向给花浇水
- 大屏TV/平板显示（HDMI输出 + 蓝牙遥控）

**FR-04 平衡功能评估**
- 标准化测试：Romberg测试（睁眼/闭眼站立稳定性）、单腿站立时长、功能性伸展测试
- 月度平衡能力评分，与同龄参考值对比
- 生成平衡功能报告（可附给医生参考）

**FR-05 安全机制**
- 跌倒检测：IMU检测到人体快速下落，触发语音警报
- 安全握把：附赠可调高度握把（固定于地面，站立时扶持）
- 重心越界提醒：COP超出安全边界时，设备语音+震动提示

**FR-06 进度追踪与激励**
- 每日训练打卡日历，连续训练提醒（≥3天徽章、≥7天奖励）
- 家属APP查看平衡改善趋势
- 社区排行榜（同龄组相对排名，激励持续训练）

### 5. 非功能性需求（NFR）

| 维度 | 指标 |
|------|------|
| 压力测量精度 | COP位置误差<3mm，重量分辨率<50g |
| 显示接口 | HDMI 2.0 + 无线投屏（Miracast），支持65英寸TV |
| 防滑安全 | 摩擦系数>0.7，底部吸盘固定 |
| 声音反馈 | 内置扬声器，立体声，语音引导清晰度>70dB SPL |
| 便携性 | 重量<3kg，可折叠收纳（厚度<5cm） |
| 防尘防水 | IP32（防直立落下的水滴和轻微尘埃） |
| 使用寿命 | 平台使用寿命>5年，传感器精度保持±5%以内 |

### 6. 约束条件与合规要求

- 产品标注**不适合**：严重骨质疏松无法独立站立者、急性眩晕发作期间使用
- 训练首次须在家人陪同下开始，确认环境安全
- 医疗器械申报：以"康复训练辅助器械"I类申报，规避II类注册复杂度
- 电气安全：符合GB 4706.1家用电器通用安全标准
- 游戏设计：不设计任何诱导老人长时间站立超过30分钟的内容

---

## B. 详细设计方案

### 1. 系统架构

```
[平衡台硬件]
     ├── 256点压力矩阵（16×16，FSR传感器）
     ├── 6轴IMU（台体姿态）
     ├── 腕带IMU（可选，上身追踪）
     ├── 边缘MCU（COP实时计算）
     └── HDMI输出 + BLE 5.0
          │ HDMI（游戏画面）+ BLE（数据）
          ▼
[TV/平板显示终端]
     └── 训练游戏APP（TV版）
          │ WiFi / BLE
          ▼
[云端服务]
     ├── 训练课程库
     ├── 平衡评估数据库
     └── 个性化训练推荐引擎
          ▼
[家属手机APP（监护）]
```

### 2. 硬件设计方案

**2.1 压力传感矩阵**
- 传感元件：256个FSR（薄膜压阻传感器），排列为16×16阵列，覆盖面积36×36cm
- 扫描电路：多路复用器（74HC4067×2），MCU逐行扫描，100Hz全矩阵刷新
- 测量范围：0–150kg（全台），单点0–10kg

**2.2 动态平台（高级版）**
- 可选动态模式：2个伺服电机驱动平台倾斜（±15°），模拟不稳定地面
- 动态难度：根据用户平衡能力，自动调整平台倾斜幅度和频率
- 安全限位：硬件限位开关，防止倾斜超过设计范围

**2.3 计算与显示**
- MCU：STM32H743（Cortex-M7，480MHz，处理256通道ADC+COP实时计算）
- 显示输出：HDMI 1.4（1080p@60fps），无线Miracast同步
- 遥控：BLE 5.0遥控器（配套，大按键老年版设计）

**2.4 结构设计**
- 平台尺寸：40×40×4cm（展开），可折叠为20×40×8cm
- 材料：铝合金框架 + 防滑橡胶面，底部6个吸盘固定
- 握把：可调高度（80–100cm），蝴蝶螺丝固定，分离式包装

### 3. 软件设计方案

**3.1 平台固件（实时处理）**
```
├── ADC矩阵扫描驱动（100Hz，DMA）
├── COP实时计算
│     COP_x = Σ(xi * fi) / Σfi
│     COP_y = Σ(yi * fi) / Σfi
├── 稳定性指标
│     ├── COP路径长度（每秒移动距离）
│     ├── COP面积（95%置信椭圆面积）
│     └── 前后/左右摆动比值
├── BLE GATT数据服务（推送COP坐标，100Hz）
└── HDMI游戏画面生成（基于COP实时渲染）
```

**3.2 TV应用（Android TV + Unity游戏）**
- 平台：Android TV 12（运行于内置Mini PC，或用户自有TV盒子）
- 游戏引擎：Unity，针对大屏优化（视角距离2–3m设计）
- 控制：BLE数据直接驱动游戏角色，延迟<20ms
- 字幕/引导：字体≥48pt，颜色对比度≥7:1，语音引导双轨

**3.3 评估算法模块**
```
Romberg测试评估流程：
1. 睁眼站立30秒 → 记录COP路径长度L_open
2. 闭眼站立30秒 → 记录COP路径长度L_closed
3. Romberg指数 = L_closed / L_open
   （正常老年人约1.5–2.5，>3.0提示前庭功能受损）

单腿站立：
- 记录最长保持时间（上限60秒）
- <10秒：高跌倒风险，触发就医建议
```

### 4. 核心算法设计

**4.1 自适应难度引擎**
```python
def compute_next_difficulty(history_scores):
    recent = history_scores[-5:]  # 最近5次得分
    avg = mean(recent)
    std = stdev(recent)
    
    if avg > 85 and std < 10:
        return min(current_level + 1, MAX_LEVEL)  # 稳定高分，升级
    elif avg < 50:
        return max(current_level - 1, 1)  # 得分过低，降级
    else:
        return current_level  # 保持当前难度
```

**4.2 平衡能力量化评分**
- 参考Berg平衡量表（BBS）设计数字化版本
- 4个测试维度：静态稳定性、动态稳定性、双重任务平衡、感觉整合
- 加权综合评分（0–100），每周更新

**4.3 进步预测模型**
- 基于前30天训练数据，拟合平衡改善曲线
- 预测：再训练4周可达到的平衡能力水平
- 激励语生成："按照当前进度，4周后您的单腿站立时间预计可达25秒！"

### 5. 用户交互设计

**5.1 训练流程（TV大屏）**
```
站上平台 → TV自动识别（压力感知）→ 显示欢迎画面
→ 语音"今天的训练是[游戏名]，请扶好握把，我们开始！"
→ 游戏进行（15–20分钟）→ 自动统计得分
→ 结束画面：今日成绩 + 本月进步趋势图
→ 语音"太棒了！休息一下，明天见~"
```

**5.2 视觉设计（大屏适配）**
- 游戏元素：圆润卡通风格，颜色明亮饱和（老年人对对比度要求高）
- 实时COP可视化：屏幕角落显示平衡圆盘（蓝色小球=当前COP，绿色目标区）
- 危险提示：红色边框闪烁+语音"请注意重心"

### 6. 商业化路径与技术风险

**商业化路径**
- **标准版**（静态平台）：1,600元；**高级版**（动态平台）：3,200元
- **课程订阅**：99元/年（高级游戏课程+月度评估报告）
- **渠道**：耳鼻喉科/骨科医院推荐、电商、社区卫生中心
- **B端**：养老院团体训练课配套，护理管理平台

**技术风险评估**

| 风险 | 等级 | 应对措施 |
|------|------|----------|
| 老人独立站立安全风险 | 高 | 强制初次使用须家人陪同，提供握把，地面安全垫建议 |
| TV兼容性差异大 | 中 | 提供配套TV盒子（预装软件），HDMI有线连接减少兼容问题 |
| 动态平台电机可靠性 | 中 | 动态版单独认证，伺服系统采用冗余限位开关 |
| 用户坚持使用率低 | 中 | 社区挑战赛（同城老年组排行），家属督促功能 |
