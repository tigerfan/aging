# P24 毫米波守护仪——无摄像头雷达居家跌倒监测系统

---

## A. 需求分析文档

### 1. 产品概述与定位

**毫米波守护仪**是一款基于77GHz毫米波雷达的居家老年人跌倒监测与活动感知系统，通过天花板/墙壁安装的雷达传感器，在不使用任何摄像头的前提下，实现房间内老年人的跌倒检测、异常静止（长时间倒地不动）识别、呼吸心跳生命体征被动监测，以及日常活动规律分析。系统完全保护老人隐私，同时为家属提供可靠的安全监护。

**蓝海点**：老年跌倒是全球老年人意外死亡第一原因；现有解决方案（摄像头/紧急按钮/穿戴设备）各有不可克服的缺陷；毫米波雷达的成本已降至消费级（车载雷达芯片供应链成熟），无摄像头+高精度的组合在居家市场尚无成熟产品。

### 2. 目标用户画像

| 维度 | 描述 |
|------|------|
| 核心用户 | 70–90岁，独居或日间独处，有跌倒史或高跌倒风险老年人 |
| 次要用户 | 帕金森患者（冻结步态导致跌倒风险极高）、骨质疏松患者 |
| 使用场景 | 客厅/卧室/卫生间（跌倒高发区），24小时持续监测 |
| 家属动机 | 不在场的子女，需要实时安全保障，同时尊重老人隐私 |
| 隐私需求 | 老人明确拒绝摄像头，但家属仍担心安全 |

### 3. 市场痛点与机会

- 中国每年老年人跌倒导致约40万人死亡，是65岁以上意外死亡首位原因
- 紧急报警器（SOS按钮）：老人跌倒后常无法或不愿按键，实际有效性低
- 摄像头监控：严重侵犯隐私，老人普遍抵制，家庭矛盾诱因
- 智能穿戴跌倒检测（Apple Watch、Garmin）：老人依从性低（不愿每天佩戴），卫生间不防水
- 毫米波雷达：无摄像头、无需佩戴、穿透普通障碍物、全天候工作，完美填补空白

### 4. 功能性需求（FR）

**FR-01 跌倒事件检测**
- 检测原理：FMCW雷达点云分析，人体高度突变（站立→倒地）触发跌倒判定
- 检测精度目标：灵敏度≥95%，特异度≥90%（实验室条件）
- 响应时间：跌倒后<3秒触发告警
- 告警流程：
  1. 设备蜂鸣+闪灯（提示老人自身）
  2. APP推送家属
  3. 20秒无响应 → 自动拨打紧急联系人电话
  4. 60秒无响应 → 自动拨打120（可配置）

**FR-02 异常静止监测**
- 检测人体倒卧且静止超过设定时间（默认5分钟）→ 告警
- 区分正常躺卧（在床/在沙发，结合时间和位置判断）与异常倒地
- 夜间睡眠期关闭跌倒告警，启用呼吸监测模式

**FR-03 生命体征被动监测**
- 毫米波雷达可检测胸腔微振动（±0.5mm量级）：
  - 呼吸频率（正常12–20次/分钟）
  - 心跳频率（静止状态下估算，±5bpm精度）
- 生命体征异常告警：呼吸停止>15秒、心率<40次/分钟 → 紧急告警

**FR-04 活动规律监测**
- 每小时活动统计：房间内活动时长、移动速度（步速估算）
- 异常检测：与历史规律对比，白天长时间无活动（>4小时）触发关怀提醒
- 每日/每周活动报告：推送家属（"爸爸今天活动量正常，步速稳定"）

**FR-05 多房间覆盖**
- 单个设备覆盖约25–40平米（客厅或卧室）
- 多设备联网：支持最多4个设备（覆盖客厅/卧室/厨房/卫生间）
- 区域感知：自动识别老人当前在哪个房间

**FR-06 卫生间专用模式**
- 卫生间跌倒高发，但摄像头绝对不可接受
- 毫米波雷达独立模块（小型，挂墙安装），专为卫生间设计
- 卫生间告警更敏感（设定跌倒后20秒即升级呼叫）

### 5. 非功能性需求（NFR）

| 维度 | 指标 |
|------|------|
| 跌倒检测灵敏度 | ≥95%（实验室，模拟跌倒100次）|
| 误报率 | <1次/天（误报过多导致忽视告警）|
| 覆盖面积 | 单个设备25–40m²（标准一室一厅） |
| 隐私性 | 无摄像头，无图像数据，雷达点云不可识别个人外貌 |
| 安装便捷 | 吸顶/壁挂自行安装，无需打孔（3M强力胶）|
| 续航 | DC供电（常开），停电后4小时备用电池 |
| 工作温湿度 | 0–55°C，10–95%RH（卫生间高湿环境） |

### 6. 约束条件与合规要求

- 毫米波雷达无线电发射须通过工业和信息化部SRRC认证（77GHz ISM频段）
- 紧急呼叫120功能须遵守地方急救规范，避免滥用
- 生命体征监测结果（心率/呼吸）：明确为参考数值，不作医疗诊断
- 数据存储：活动规律数据按匿名化处理，雷达原始点云不上传云端

---

## B. 详细设计方案

### 1. 系统架构

```
[毫米波守护仪（吸顶/壁挂）×1–4台]
     ├── 77GHz FMCW毫米波雷达（TI AWR1642）
     ├── 边缘AI处理（STM32H7，运行跌倒检测算法）
     ├── 告警扬声器+LED指示灯
     ├── 紧急通话模块（4G LTE，独立SIM）
     └── WiFi + BLE（数据上传+配置）
          │ WiFi / 4G
          ▼
[家庭网关（可选，或通过云端中转）]
          ▼
[云端服务]
     ├── 跌倒事件存档与分析
     ├── 活动规律基线建模
     └── 异常检测告警引擎
          ▼
[家属/子女APP]
```

### 2. 硬件设计方案

**2.1 雷达模块（核心）**
- 芯片：德州仪器 AWR1642（77GHz FMCW，集成发射2路+接收4路天线，CFAR目标检测）
- 最大距离：6m（室内场景足够），角度分辨率：±60°方位角
- 距离分辨率：4cm，速度分辨率：0.13m/s
- 输出：3D点云（目标距离/角度/速度）+ 微多普勒信号（呼吸/心跳）

**2.2 边缘计算**
- MCU：STM32H743（运行轻量级姿态分类和跌倒检测算法，INT8量化模型）
- 实时处理：雷达帧率20Hz，跌倒检测延迟<100ms

**2.3 告警与通信**
- 本地告警：85dB蜂鸣器 + RGB LED指示灯（红=紧急，黄=注意，绿=正常）
- 通话模块：Quectel EC200S 4G LTE（SIM卡独立，WiFi断线仍可告警）
- 双向通话：内置MEMS麦克风+扬声器，告警后家属可与现场对话

**2.4 结构设计**
- 吸顶版：Φ180mm圆形，厚度30mm，3M胶+螺钉双固定
- 壁挂版：120mm×80mm×25mm，倾斜安装（向下45°俯视）
- 防护等级：IP54（防粉尘，防水溅），适合卫生间使用
- 卫生间专用版：IP67，防水更高等级

### 3. 核心算法设计

**3.1 人体检测与跌倒识别**
```python
def detect_fall(radar_frame_sequence, window=20):
    """
    分析20帧（1秒）雷达数据，检测跌倒事件
    """
    # 提取人体目标点云（聚类滤波）
    targets = cluster_human_targets(radar_frame_sequence)
    
    # 关键特征
    height_series = [estimate_target_height(t) for t in targets]
    velocity_series = [t.radial_velocity for t in targets]
    
    # 跌倒特征：身体高度快速下降 + 水平速度大（跌倒冲击）
    height_drop = max(height_series[:5]) - min(height_series[15:])
    max_velocity = max(abs(v) for v in velocity_series)
    
    if height_drop > 0.6 and max_velocity > 1.5:  # 高度降低>60cm，速度>1.5m/s
        return True, 'FALL_DETECTED'
    return False, None

def detect_abnormal_stillness(position_history, duration_s=300):
    """检测异常静止（可能倒地昏迷）"""
    recent_positions = position_history[-int(duration_s*20):]
    displacement = max_displacement(recent_positions)
    if displacement < 0.3:  # 5分钟内位移<30cm
        height = estimate_height(recent_positions[-1])
        if height < 0.5:  # 高度<50cm（接近地面）
            return True
    return False
```

**3.2 呼吸心跳提取（微多普勒）**
```python
def extract_vitals(radar_iq_data, fs=1000):
    # 相位差分检测微振动（胸腔起伏<1mm）
    phase = np.unwrap(np.angle(radar_iq_data))
    phase_filtered = bandpass(phase, 0.1, 0.6, fs)  # 呼吸：0.1-0.5Hz
    
    breathing_rate = dominant_frequency(phase_filtered) * 60  # 次/分钟
    
    # 更高频段提取心跳
    heartbeat_filtered = bandpass(phase, 0.8, 3.0, fs)  # 心跳：0.8-2.5Hz
    heart_rate = dominant_frequency(heartbeat_filtered) * 60  # 次/分钟
    
    return breathing_rate, heart_rate
```

**3.3 活动规律基线建模**
- 30天滑动窗口，学习每小时平均活动量（点云运动速度均值）
- 使用3-sigma规则检测异常（低于历史同时段均值2.5个标准差 → 告警）

### 4. 用户交互设计

**安装配置**
```
下载APP → 扫描设备二维码添加设备
→ APP引导安装位置（推荐吸顶，以图示说明）
→ 完成后APP提示"请在检测区域内正常走动10分钟，系统学习您的活动特征"
→ 7天后系统自动建立个人活动基线
→ 家属设置告警联系人（最多3位，紧急顺序）
```

**家属APP告警通知**
- 普通活动报告（每晚推送）："爸爸今天活动正常，晚上10:05已就寝"
- 跌倒告警：🚨"【紧急】检测到爸爸可能跌倒，请立即联系！" + 一键呼叫
- 生命体征异常："检测到呼吸心跳信号异常，建议立即确认"

### 5. 商业化路径与技术风险

**商业化路径**
- **单台**：760元；**全屋套装（3台）**：1,980元（客厅+卧室+卫生间）
- **服务**：69元/年（云端活动分析+月报+7×24小时告警服务）
- **渠道**：电商为主，家居建材卖场，物业/社区合作渠道
- **B端**：养老院全房间覆盖（可取代部分护理人力，降低成本）
- **保险合作**：老年意外险配套设备（跌倒险的主动防控工具）

**技术风险评估**

| 风险 | 等级 | 应对措施 |
|------|------|----------|
| 误报导致家属告警疲劳 | 高 | 分级告警（先通知，20秒确认升级），持续优化阈值 |
| 家具遮挡（沙发/床）影响高度估算 | 高 | 安装位置向导（推荐无遮挡吸顶），多台互补覆盖 |
| 多人同室时目标区分 | 中 | DBSCAN点云聚类，追踪最慢/最矮目标（老人特征） |
| 毫米波雷达SRRC认证周期 | 中 | 使用已通过认证的完整模组（如TI IWR6843EVM已有认证），避免重复认证 |
